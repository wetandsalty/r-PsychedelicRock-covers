<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>r/PsychedelicRock | Top weekly posts</title>

    <link rel="icon" href="favicon.png" sizes="96x96" />

    <link rel="icon" href="assets/favicons/favicon-196.png" sizes="196x196" />
    <link rel="icon" href="assets/favicons/favicon-192.png" sizes="192x192" />
    <link rel="icon" href="assets/favicons/favicon-180.png" sizes="180x180" />
    <link rel="icon" href="assets/favicons/favicon-152.png" sizes="152x152" />
    <link rel="icon" href="assets/favicons/favicon-144.png" sizes="144x144" />
    <link rel="icon" href="assets/favicons/favicon-128.png" sizes="128x128" />
    <link rel="icon" href="assets/favicons/favicon-120.png" sizes="120x120" />
    <link rel="icon" href="assets/favicons/favicon-76.png" sizes="76x76" />
    <link rel="icon" href="assets/favicons/favicon-32.png" sizes="32x32" />
    <link rel="icon" href="assets/favicons/favicon-16.png" sizes="16x16" />

    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFFFF" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1A1A1A" />

    <!-- loading normalize, fonts and stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
    <link rel="stylesheet" href="https://use.typekit.net/rbo0ced.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />

    <!-- loading p5.js libs -->
    <script src="./libs/p5.min.js"></script>
  </head>
  <body class="body" id="page">
    <main class="container">
      <header>
        <a
          class="header__link"
          href="https://reddit.com/r/psychedelicrock"
          target="_blank"
          title="Visit subreddit"
        >
          <div class="arrow">
            <svg
              width="72px"
              height="72px"
              viewbox="0 0 72 72"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <title>Visit subreddit</title>
              <path
                d="M33.9704349,2.2942473 L4.82154672,32.9321533 C3.67950655,34.1325326 3.72679969,36.0314387 4.9271789,37.1734788 C5.4848904,37.7040853 6.22522993,38 6.99502555,38 L20,38 L20,38 L20,69 C20,70.6568542 21.3431458,72 23,72 L49,72 C50.6568542,72 52,70.6568542 52,69 L52,38 L52,38 L65.0457949,38 C66.7026492,38 68.0457949,36.6568542 68.0457949,35 C68.0457949,34.2346097 67.7532491,33.4981631 67.22804,32.9414067 L38.3261588,2.30350065 C37.1892292,1.09827997 35.2905411,1.04291918 34.0853204,2.17984887 C34.0460017,2.21693973 34.0076925,2.25508647 33.9704349,2.2942473 Z"
                id="arrow"
                fill="#000000"
                fill-rule="nonzero"
              ></path>
            </svg>
          </div>
        </a>
        <h1 class="header__title">r/Psyche&shy;delic&shy;Rock playlist</h1>
      </header>

      <div class="modecontrols">
        <a
          onclick="toggleMode();"
          class="modetoggle"
          id="labelDark"
          title="switch to ☀️ lightmode"
        >
          <div class="modeicon"></div>
        </a>
        <a
          onclick="toggleMode();"
          class="modetoggle"
          id="labelLight"
          title="switch to 🌙 darkmode"
        >
          <div class="modeicon light"></div>
        </a>
      </div>

      <section class="cover">
        <button class="button" id="btnData" onclick="btnClicked()">
          get data
        </button>
        <div id="canvas"></div>
      </section>

      <ul class="controls" id="controls" style="display: none">
        <li class="controls__li">
          <legend class="legend">Controls</legend>
          <div class="radiogroup">
            <input
              type="radio"
              class="radio"
              id="manual-off"
              name="manual"
              value="false"
              checked
              disabled
            />
            <label class="radiolabel" for="manual-off">auto</label>

            <input
              type="radio"
              class="radio"
              id="manual-on"
              name="manual"
              value="true"
              disabled
            />
            <label class="radiolabel" for="manual-on">manual</label>
          </div>
        </li>
        <li class="controls__li">
          <label class="sliderlabel">inner radius</label>
          <output id="rValue" class="output"></output>
          <input
            type="range"
            min="3"
            max="120"
            step="1"
            value="3"
            class="slider"
            id="sliderR"
            oninput="sliderChange()"
            disabled
          />
        </li>
        <li class="controls__li">
          <label class="sliderlabel">outer radius</label>
          <output id="distValue" class="output"></output>
          <input
            type="range"
            min="50"
            max="400"
            step="1"
            value="50"
            class="slider"
            id="sliderDist"
            oninput="sliderChange()"
            disabled
          />
        </li>
        <li class="controls__li">
          <label class="sliderlabel">spiral</label>
          <output id="turnsValue" class="output"></output>
          <input
            type="range"
            min="1"
            max="25"
            step="0.1"
            value="1"
            class="slider"
            id="sliderTurns"
            oninput="sliderChange()"
            disabled
          />
        </li>
        <li class="controls__li">
          <label class="sliderlabel">arrow size</label>
          <output id="fontValue" class="output"></output>
          <input
            type="range"
            min="8"
            max="40"
            step="1"
            value="8"
            class="slider"
            id="sliderFontsize"
            oninput="sliderChange()"
            disabled
          />
        </li>
        <li class="controls__li">
          <label class="sliderlabel">growth factor</label>
          <output id="growthValue" class="output"></output>
          <input
            type="range"
            min="0"
            max="0.2"
            step="0.001"
            value="0"
            class="slider"
            id="sliderFact"
            oninput="sliderChange()"
            disabled
          />
        </li>
        <li class="controls__li">
          <label class="sliderlabel">rotation</label>
          <output id="angleValue" class="output"></output>
          <input
            type="range"
            min="0"
            max="12"
            step="0.1"
            value="0"
            class="slider"
            id="sliderAngle"
            oninput="sliderChange()"
            disabled
          />
        </li>
      </ul>
      <ul class="tracklist" id="tracklist" style="display: none">
        <li class="tracklist__header">Tracklist</li>
        <li class="tracklist__placeholder" id="placeholder">
          Please press "get data" to get playlist tracks.
        </li>
        <!-- li class="tracklist__aboutheader">
          About
        </li -->
        <!-- li class="tracklist__about">
          This p5.js sketch makes a "cover" image based on a continuously updated Spotify playlist.
          Each of the 25 songs in the playlist is represented by an arrow (the
          "upvote" symbol ⬆). The base colour of each arrow is defined by the year the song
          was released. Additional Spotify metadata used: Higher "danceability" → more glow. A
          song's "instrumentalness" has an effect on the gradient on the arrow.
          In "auto" mode, the "energy" of the first and last song have an impact on the shape of
          the spiral.
        </li -->
      </ul>
    </main>

    <footer class="tabbar">
      <div class="tab">
        <a
          class="playlink"
          href="https://open.spotify.com/playlist/13REVO8Q6DbIqQVL9brrkA?si=8631ec5a2b674634"
          target="_blank"
          title="Listen on Spotify"
        >
          <div class="▶">
            <svg
              width="14px"
              height="17px"
              viewbox="0 0 14 17"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <path
                  id="play"
                  d="M13.524183,7.66340554 L1.59215686,0.169655127 C1.4335512,0.062855834 1.25969499,0.00648954039 1.07058824,0.000556246319 C0.881481481,-0.00537704775 0.704575163,0.0361560107 0.539869281,0.125155422 C0.375163399,0.214154833 0.244008715,0.338754008 0.146405229,0.498952948 C0.0488017429,0.659151888 0,0.828250769 0,1.00624959 L0,15.9937504 C0,16.1717492 0.0488017429,16.3408481 0.146405229,16.5010471 C0.244008715,16.661246 0.375163399,16.7858452 0.539869281,16.8748446 C0.704575163,16.963844 0.881481481,17.005377 1.07058824,16.9994438 C1.25969499,16.9935105 1.4335512,16.9371442 1.59215686,16.8303449 L13.524183,9.33659446 C13.6705882,9.24166176 13.7864924,9.12002923 13.8718954,8.97169688 C13.9572985,8.82336453 14,8.66613223 14,8.5 C14,8.33386777 13.9572985,8.17663547 13.8718954,8.02830312 C13.7864924,7.87997077 13.6705882,7.75833824 13.524183,7.66340554 Z"
                  fill-rule="nonzero"
                ></path>
              </g>
            </svg>
          </div>
          <div>Listen on Spotify</div>
        </a>
      </div>
      <div class="tab" id="tabControls">
        <a
          class="tab__controls"
          id="hideControls"
          onclick="toggleControls()"
          style="display: none"
        >
          hide controls
        </a>
        <a
          class="tab__controls visible"
          id="showControls"
          onclick="toggleControls()"
        >
          show controls
        </a>
      </div>
      <div class="tab" id="tabTracklist">
        <a
          class="tab__controls"
          id="hideTracklist"
          onclick="toggleTracklist()"
          style="display: none"
        >
          hide info
        </a>
        <a
          class="tab__controls visible"
          id="showTracklist"
          onclick="toggleTracklist()"
        >
          show info
        </a>
      </div>
    </footer>
    <script src="sketch.js"></script>
  </body>
</html>
